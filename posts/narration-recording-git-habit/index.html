<!DOCTYPE html>
<html prefix="og: http://ogp.me/ns# " lang="en">
<head>
<meta charset="utf-8">
<meta name="description" content="In this post, we introduce our daily Git habit how to handle multiple branches to add new features and release official versions and hotfix releasing for bug fixing as professional development.">
<meta name="viewport" content="width=device-width, initial-scale=1">
<title>Our Git Habit of Narration Recording project | Cocktail-Make Developer Blog</title>
<link href="../../assets/css/all-nocdn.css" rel="stylesheet" type="text/css">
<meta name="theme-color" content="#5670d4">
<meta name="generator" content="Nikola (getnikola.com)">
<link rel="alternate" type="application/rss+xml" title="RSS" hreflang="en" href="../../rss.xml">
<link rel="canonical" href="https://cocktailmake.github.io/posts/narration-recording-git-habit/">
<!--[if lt IE 9]><script src="../../assets/js/html5.js"></script><![endif]--><meta name="author" content="Duc To">
<link rel="prev" href="../emacs-modeline-enhancement-for-git-diff/" title="Emacs modeline enhancement for Git diff" type="text/html">
<link rel="next" href="../richka-web-api/" title="RICHKA Web API" type="text/html">
<meta property="og:site_name" content="Cocktail-Make Developer Blog">
<meta property="og:title" content="Our Git Habit of Narration Recording project">
<meta property="og:url" content="https://cocktailmake.github.io/posts/narration-recording-git-habit/">
<meta property="og:description" content="In this post, we introduce our daily Git habit how to handle multiple branches to add new features and release official versions and hotfix releasing for bug fixing as professional development.">
<meta property="og:image" content="https://cocktailmake.github.io/images/narration-recording-git-habit/git-model@2x.png">
<meta property="og:type" content="article">
<meta property="article:published_time" content="2020-09-20T12:00:00+09:00">
<meta property="article:tag" content="git">
<meta name="twitter:card" content="summary_large_image">
<meta name="twitter:site" content="@cocktailmakeInc">
<meta name="twitter:creator" content="@cocktailmakeInc">
<meta name="twitter:image" content="https://cocktailmake.github.io/images/narration-recording-git-habit/git-model@2x.png">
</head>
<body>
<a href="#content" class="sr-only sr-only-focusable">Skip to main content</a>

<!-- Menubar -->

<nav class="navbar navbar-inverse navbar-static-top"><div class="container">
<!-- This keeps the margins nice -->
        <div class="navbar-header">
            <button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target="#bs-navbar" aria-controls="bs-navbar" aria-expanded="false">
            <span class="sr-only">Toggle navigation</span>
            <span class="icon-bar"></span>
            <span class="icon-bar"></span>
            <span class="icon-bar"></span>
            </button>
            <a class="navbar-brand" href="https://cocktailmake.github.io/">

                <span id="blog-title">Cocktail-Make Developer Blog</span>
            </a>
        </div>
<!-- /.navbar-header -->
        <div class="collapse navbar-collapse" id="bs-navbar" aria-expanded="false">
            <ul class="nav navbar-nav">
<li>
<a href="../../archive.html">Archive</a>
                </li>
<li>
<a href="../../categories/">Tags</a>
                </li>
<li>
<a href="../../rss.xml">RSS feed</a>

                
            </li>
</ul>
<!-- Google custom search --><form method="get" action="https://www.google.com/search" class="navbar-form navbar-right" role="search">
<div class="form-group">
<input type="text" name="q" class="form-control" placeholder="Search">
</div>
<button type="submit" class="btn btn-primary">
    <span class="glyphicon glyphicon-search"></span>
</button>
<input type="hidden" name="sitesearch" value="https://cocktailmake.github.io/">
</form>
<!-- End of custom search -->


            <ul class="nav navbar-nav navbar-right"></ul>
</div>
<!-- /.navbar-collapse -->
    </div>
<!-- /.container -->
</nav><!-- End of Menubar --><div class="container" id="content" role="main">
    <div class="body-content">
        <!--Body content-->
        <div class="row">
            
            
<article class="post-text h-entry hentry postpage" itemscope="itemscope" itemtype="http://schema.org/Article"><header><h1 class="p-name entry-title" itemprop="headline name"><a href="." class="u-url">Our Git Habit of Narration Recording project</a></h1>

        <div class="metadata">
            <p class="byline author vcard p-author h-card"><span class="byline-name fn p-name" itemprop="author">
                    <a class="u-url" href="../../authors/duc-to/">Duc To</a>
            </span></p>
            <p class="dateline">
            <a href="." rel="bookmark">
            <time class="published dt-published" datetime="2020-09-20T12:00:00+09:00" itemprop="datePublished" title="2020-09-20 12:00">2020-09-20 12:00</time></a>
            </p>
            

        </div>
        

    </header><div class="e-content entry-content" itemprop="articleBody text">
    <div id="outline-container-orgefcd2c7" class="outline-2">
<h2 id="orgefcd2c7">Abstract</h2>
<div class="outline-text-2" id="text-orgefcd2c7">
<p>
We released a new web application called <b><span style="color: red">ナレ撮り</span></b>
which enables users to record the voice as narration on web browsers
and combine them with video sources and generate videos in last month.
In this post, we introduce our daily Git habit how to handle multiple
branches to add new features and release official versions and hotfix
releasing for bug fixing as professional development.
</p>

<p>
Our development team refers to a good article of <a href="https://nvie.com/posts/a-successful-git-branching-model/">Git Workflow</a> and the
format of commit log of <a href="https://github.com/angular/angular/blob/master/CONTRIBUTING.md#commit">AngularJS guys</a>.
</p>

<p>
<img src="../../images/narration-recording-git-habit/git-model@2x.png" alt="nil"></p>
</div>
</div>

<div id="outline-container-orge7f2ed0" class="outline-2">
<h2 id="orge7f2ed0">Branches</h2>
<div class="outline-text-2" id="text-orge7f2ed0">
</div>
<div id="outline-container-org1003e5e" class="outline-3">
<h3 id="org1003e5e">Feature branches</h3>
<div class="outline-text-3" id="text-org1003e5e">
<p>
When you develop new features or fix bugs and the total modified lines
will be relatively larger compared with prior ones you developed, then
you should create new branches and merge after finishing the
developments as general Git culture.
</p>
</div>
</div>

<div id="outline-container-org4b1fd48" class="outline-3">
<h3 id="org4b1fd48">Stage branch</h3>
<div class="outline-text-3" id="text-org4b1fd48">
<p>
It is a primary development branch and feature branches will be merged
to stage branch after successfully tested and reviewed.
</p>

<p>
This branch is a head of any other branches, but there is a
possibility any degrade happens with merging the working branches into
this branch. Therefore we can't release this branch as official
version right now.
</p>
</div>
</div>

<div id="outline-container-org160236d" class="outline-3">
<h3 id="org160236d">Release branches</h3>
<div class="outline-text-3" id="text-org160236d">
<ul class="org-ul">
<li>On each release, we create a new release branch based on latest
stage branch for both recording and video repositories (even though
there may not have any changes since last release for one
repository).</li>
<li>The release branch should be named as <b><b>release/[VERSION_NUMBER]</b></b>.</li>
<li>Sometimes a hotfix releasing is needed and we can apply hotfix commits to
the release branches</li>
</ul>
<p>
<img src="../../images/narration-recording-git-habit/hotfix-branches@2x.png" alt="nil"></p>
</div>
</div>

<div id="outline-container-org0d02ab1" class="outline-3">
<h3 id="org0d02ab1">Tags</h3>
<div class="outline-text-3" id="text-org0d02ab1">
<p>
Tags are created with the release branches of both recording and video repositories
after the final reviewing the release has been successfully passed.
</p>

<p>
<img src="../../images/narration-recording-git-habit/git-model@2x.png" alt="nil"></p>
</div>
</div>
</div>

<div id="outline-container-orgbe946ce" class="outline-2">
<h2 id="orgbe946ce">Commit logs</h2>
<div class="outline-text-2" id="text-orgbe946ce">
<p>
We apply <a href="https://github.com/angular/angular/blob/master/CONTRIBUTING.md#commit">3rd party knowledge</a> for the format of commit logs from AngularJS guys.
We follow the tiny rule in the article as below.
</p>

<div class="highlight"><pre><span></span>&lt;type&gt;<span class="o">(</span>&lt;scope&gt;<span class="o">)</span>: &lt;subject&gt;
</pre></div>

<p>
Type : Must be one of the following:
</p>

<div class="highlight"><pre><span></span>| Type     | Meaning                                                                                                |
|----------+--------------------------------------------------------------------------------------------------------|
| feat     | A new feature                                                                                          |
| fix      | A bug fix                                                                                              |
| docs     | Documentation only changes                                                                             |
| style    | Changes that do not affect the meaning of the code (white-space, formatting, missing semi-colons, etc) |
| refactor | A code change that neither fixes a bug nor adds a feature                                              |
| perf     | A code change that improves performance                                                                |
| test     | Adding missing or correcting existing tests                                                            |
| chore    | Changes to the build process or auxiliary tools and libraries such as documentation generation         |
</pre></div>

<p>
For examples, our commit logs would be below.
</p>

<div class="highlight"><pre><span></span>fix(gui): Fixed file uploading. Refs #REC-XXX
fix(video): Make ffmpeg video generation more stable. Refs #REC-XXX
test(django): Added new tests for admin contract page. Refs #REC-XXX
feat(gui) : Added Narration script function. Refs #REC-XXX 
</pre></div>
</div>
</div>

<div id="outline-container-orgc4aa91d" class="outline-2">
<h2 id="orgc4aa91d">Utilize special keywords in commit logs</h2>
<div class="outline-text-2" id="text-orgc4aa91d">
<p>
When we commit, we fill understandable commit logs and use special
keywords such as Refs #TICKET_NUMBER to make the references with the
corresponding tickets.  Therefore before committing, we create tickets
at first and make the references with the commit logs.
</p>
</div>
</div>

<div id="outline-container-orgcca7d04" class="outline-2">
<h2 id="orgcca7d04">Rules for merging</h2>
<div class="outline-text-2" id="text-orgcca7d04">
<p>
When we merge branches, we have a rule to add "<b><b>–no-ff</b></b>" as command
option to suppress fast-forward of the default behavior of Git.
</p>

<p>
For examples: <code>git merge --no-ff feature/REC-00</code>
</p>
</div>
</div>

<div id="outline-container-orgf39a98b" class="outline-2">
<h2 id="orgf39a98b">Modification of DB models</h2>
<div class="outline-text-2" id="text-orgf39a98b">
<p>
When we modify the models of Django with development tasks, we do that
on stage branch at first. We sometimes encountered DB migration issue
on stage branch and it also caused runtime issues on our individual
working branches. To prevent from happening the same issue, we applied
a simple work flow to modify DB models only on stage branch.
</p>

<ol class="org-ol">
<li>If you need to modify models of Django, checkout stage branch at first</li>
<li>Modify the models and execute migration against staging DB</li>
<li>Merge stage branch into your working branches</li>
</ol>
</div>
</div>
    </div>
    <aside class="postpromonav"><nav><ul itemprop="keywords" class="tags">
<li><a class="tag p-category" href="../../categories/git/" rel="tag">git</a></li>
        </ul>
<ul class="pager hidden-print">
<li class="previous">
                <a href="../emacs-modeline-enhancement-for-git-diff/" rel="prev" title="Emacs modeline enhancement for Git diff">Previous post</a>
            </li>
            <li class="next">
                <a href="../richka-web-api/" rel="next" title="RICHKA Web API">Next post</a>
            </li>
        </ul></nav></aside></article>
</div>
        <!--End of body content-->

        <footer id="footer">
            Contents © 2021         <a href="mailto:">Cocktail-Make</a> - Powered by         <a href="https://getnikola.com" rel="nofollow">Nikola</a>         
            
        </footer>
</div>
</div>


            <script src="../../assets/js/all-nocdn.js"></script><!-- Social buttons --><div id="addthisbox" class="addthis_toolbox addthis_peekaboo_style addthis_default_style addthis_label_style addthis_32x32_style">
<a class="addthis_button_more">Share</a>
<ul>
<li>
<a class="addthis_button_twitter">Twitter</a>
</li>
<li>
<a class="addthis_button_facebook">Facebook</a>
</li>
<li>
<a class="addthis_button_linkedin">LinkedIn</a>
</li>
</ul>
</div>
<script src="https://s7.addthis.com/js/300/addthis_widget.js#pubid=ra-4f7088a56bb93798"></script><!-- End of social buttons --><!-- fancy dates --><script>
    moment.locale("en");
    fancydates(0, "YYYY-MM-DD HH:mm");
    </script><!-- end fancy dates --><script>
    baguetteBox.run('div#content', {
        ignoreClass: 'islink',
        captions: function(element) {
            return element.getElementsByTagName('img')[0].alt;
    }});
    </script><!-- Global site tag (gtag.js) - Google Analytics --><script async src="https://www.googletagmanager.com/gtag/js?id=UA-145253993-3"></script><script>
  window.dataLayer = window.dataLayer || [];
  function gtag(){dataLayer.push(arguments);}
  gtag('js', new Date());

  gtag('config', 'UA-145253993-3');
</script>
</body>
</html>
