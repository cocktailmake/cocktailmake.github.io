<!DOCTYPE html>
<html prefix="og: http://ogp.me/ns# " lang="en">
<head>
<meta charset="utf-8">
<meta name="viewport" content="width=device-width, initial-scale=1">
<title>Big picture of Analytics service | RICHKA Developer Blog</title>
<link href="../../assets/css/all-nocdn.css" rel="stylesheet" type="text/css">
<meta name="theme-color" content="#5670d4">
<meta name="generator" content="Nikola (getnikola.com)">
<link rel="alternate" type="application/rss+xml" title="RSS" hreflang="en" href="../../rss.xml">
<link rel="canonical" href="https://cocktailmake.github.io/posts/big-picture-of-analytics/">
<!--[if lt IE 9]><script src="../../assets/js/html5.js"></script><![endif]--><meta name="author" content="Hiroki Nohara">
<link rel="prev" href="../recording-player-markers/" title="Markers of Video Player on Recording Service" type="text/html">
<meta property="og:site_name" content="RICHKA Developer Blog">
<meta property="og:title" content="Big picture of Analytics service">
<meta property="og:url" content="https://cocktailmake.github.io/posts/big-picture-of-analytics/">
<meta property="og:description" content="Abstract


Most of the users of RICHKA, which is the main product of our company, 
uses the generated media for their advertisement.
Analytics service enables to see the dashboard of important metrics">
<meta property="og:image" content="https://cocktailmake.github.io/images/big-picture-of-analytics/analytics-graph-screenshot.png">
<meta property="og:type" content="article">
<meta property="article:published_time" content="2021-10-20T14:42:13+09:00">
<meta name="twitter:card" content="summary_large_image">
<meta name="twitter:site" content="@richka_cm">
<meta name="twitter:creator" content="@richka_cm">
<meta name="twitter:image" content="https://cocktailmake.github.io/images/big-picture-of-analytics/analytics-graph-screenshot.png">
</head>
<body>
<a href="#content" class="sr-only sr-only-focusable">Skip to main content</a>

<!-- Menubar -->

<nav class="navbar navbar-inverse navbar-static-top"><div class="container">
<!-- This keeps the margins nice -->
        <div class="navbar-header">
            <button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target="#bs-navbar" aria-controls="bs-navbar" aria-expanded="false">
            <span class="sr-only">Toggle navigation</span>
            <span class="icon-bar"></span>
            <span class="icon-bar"></span>
            <span class="icon-bar"></span>
            </button>
            <a class="navbar-brand" href="https://cocktailmake.github.io/">

                <span id="blog-title">RICHKA Developer Blog</span>
            </a>
        </div>
<!-- /.navbar-header -->
        <div class="collapse navbar-collapse" id="bs-navbar" aria-expanded="false">
            <ul class="nav navbar-nav">
<li>
<a href="../../archive.html">Archive</a>
                </li>
<li>
<a href="../../categories/">Tags</a>
                </li>
<li>
<a href="../../rss.xml">RSS feed</a>

                
            </li>
</ul>
<!-- Google custom search --><form method="get" action="https://www.google.com/search" class="navbar-form navbar-right" role="search">
<div class="form-group">
<input type="text" name="q" class="form-control" placeholder="Search">
</div>
<button type="submit" class="btn btn-primary">
    <span class="glyphicon glyphicon-search"></span>
</button>
<input type="hidden" name="sitesearch" value="https://cocktailmake.github.io/">
</form>
<!-- End of custom search -->


            <ul class="nav navbar-nav navbar-right"></ul>
</div>
<!-- /.navbar-collapse -->
    </div>
<!-- /.container -->
</nav><!-- End of Menubar --><div class="container" id="content" role="main">
    <div class="body-content">
        <!--Body content-->
        <div class="row">
            
            
<article class="post-text h-entry hentry postpage" itemscope="itemscope" itemtype="http://schema.org/Article"><header><h1 class="p-name entry-title" itemprop="headline name"><a href="." class="u-url">Big picture of Analytics service</a></h1>

        <div class="metadata">
            <p class="byline author vcard p-author h-card"><span class="byline-name fn p-name" itemprop="author">
                    <a class="u-url" href="../../authors/hiroki-nohara/">Hiroki Nohara</a>
            </span></p>
            <p class="dateline">
            <a href="." rel="bookmark">
            <time class="published dt-published" datetime="2021-10-20T14:42:13+09:00" itemprop="datePublished" title="2021-10-20 14:42">2021-10-20 14:42</time></a>
            </p>
            

        </div>
        

    </header><div class="e-content entry-content" itemprop="articleBody text">
    <div id="outline-container-orgd6fe84d" class="outline-2">
<h2 id="orgd6fe84d">Abstract</h2>
<div class="outline-text-2" id="text-orgd6fe84d">
<p>
Most of the users of RICHKA, which is the main product of our company, 
uses the generated media for their advertisement.
Analytics service enables to see the dashboard of important metrics for marketers.
</p>

<p>
The picture below is an example of the dashboard for a Facebook Ad account.
The numbers in the top tab show the current values and increases, decreases compared to
 the previous period.
The bar graph under the tabs shows the transition of metrics in the target period.
</p>

<p>
<img src="../../images/big-picture-of-analytics/analytics-graph-screenshot.png" alt="nil"></p>

<p>
The advantage of this service is you can connect various kinds of SNS/ad accounts and see the graph
 with the same UI.
Usually, marketers should jump to the official analytics page of each advertisement service to check
 the outcome and each has a different UI specification from others.
The left menu lists the accounts which you have connected previously with OAuth and you should just click the account
 you want to check.
That should be convenient for marketers who operate multiple accounts.
</p>

<p>
Analytics is compatible with Facebook media/ad, Instagram media, Twitter media/ad, Google ad,
 and Yahoo ad account at the moment.
</p>
</div>
</div>

<div id="outline-container-org839f8e7" class="outline-2">
<h2 id="org839f8e7">Architecture</h2>
<div class="outline-text-2" id="text-org839f8e7">
<p>
In this section, I will show you the big picture of Analytics.
</p>

<p>
<img src="../../images/big-picture-of-analytics/analytics-architecture.png" alt="nil"></p>

<p>
The main function of this product is to display graphs of important metrics for operating
 SNS/ad accounts.
</p>

<p>
One of the big features of our architecture is usually we don't get the metrics data on the fly
 via each API when a user accesses the dashboard page.
Instead, the metrics data is already in our DB at that time for most cases.
The detailed steps in the figure are as below.
</p>

<ol class="org-ol">
<li>Get the required data from the APIs of the advertisement service.
This step is processed in the two situations.
The first situation is when you link your account first time.
The web server will start to collect the past metrics data (about last year's) as a
background process.
The second situation is in our scheduled process for linked accounts.
To update the metrics values, we execute that every day as batch processing.</li>

<li>The data got in the first step will be stored in our database at that time.
Some kinds of metrics data need calculations before saving to our database.</li>

<li>When you access the dashboard page, the required data will be collected from our database.
This process needs grouping metrics data per a certain period, like per month, per year.
The difference with the previous period is also calculated in this step.</li>
<li>The collected data in step 3 will be sent to the frontend, then graphs will be drawn.
When you change the filtering condition on GUI, the frontend will request the data by
the new condition to the web server again.</li>
</ol>
<p>
We use Celery with Redis to manage the distributed process of collecting metrics via the APIs.
Chart.js is used for drawing graphs on the frontend.
</p>

<p>
What kind of metrics we can get depends on each advertisement service.
 There are several types of differences, but we save them in the same format as possible in
 the database to make it easy to handle them.
</p>
</div>
</div>
    </div>
    <aside class="postpromonav"><nav><ul class="pager hidden-print">
<li class="previous">
                <a href="../recording-player-markers/" rel="prev" title="Markers of Video Player on Recording Service">Previous post</a>
            </li>
        </ul></nav></aside></article>
</div>
        <!--End of body content-->

        <footer id="footer">
            Contents Â© 2022         <a href="mailto:">RICHKA</a> - Powered by         <a href="https://getnikola.com" rel="nofollow">Nikola</a>         
            
        </footer>
</div>
</div>


            <script src="../../assets/js/all-nocdn.js"></script><!-- Social buttons --><div id="addthisbox" class="addthis_toolbox addthis_peekaboo_style addthis_default_style addthis_label_style addthis_32x32_style">
<a class="addthis_button_more">Share</a>
<ul>
<li>
<a class="addthis_button_twitter">Twitter</a>
</li>
<li>
<a class="addthis_button_facebook">Facebook</a>
</li>
<li>
<a class="addthis_button_linkedin">LinkedIn</a>
</li>
</ul>
</div>
<script src="https://s7.addthis.com/js/300/addthis_widget.js#pubid=ra-4f7088a56bb93798"></script><!-- End of social buttons --><!-- fancy dates --><script>
    moment.locale("en");
    fancydates(0, "YYYY-MM-DD HH:mm");
    </script><!-- end fancy dates --><script>
    baguetteBox.run('div#content', {
        ignoreClass: 'islink',
        captions: function(element) {
            return element.getElementsByTagName('img')[0].alt;
    }});
    </script><!-- Global site tag (gtag.js) - Google Analytics --><script async src="https://www.googletagmanager.com/gtag/js?id=UA-145253993-3"></script><script>
  window.dataLayer = window.dataLayer || [];
  function gtag(){dataLayer.push(arguments);}
  gtag('js', new Date());

  gtag('config', 'UA-145253993-3');
</script>
</body>
</html>
